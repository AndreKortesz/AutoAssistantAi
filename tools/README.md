# üöó –ü–∞—Ä—Å–µ—Ä —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ Auto.ru

–°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–±–æ—Ä–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –±–∞–∑—ã –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π:
**–ú–∞—Ä–∫–∞ ‚Üí –ú–æ–¥–µ–ª—å ‚Üí –ü–æ–∫–æ–ª–µ–Ω–∏–µ ‚Üí –î–≤–∏–≥–∞—Ç–µ–ª—å ‚Üí –ö–ü–ü**

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install playwright

# 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±—Ä–∞—É–∑–µ—Ä–∞
playwright install chromium

# 3. –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞
python autoru_parser.py
```

## üìÅ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ñ–∞–π–ª `cars_database.json`:

```json
{
  "version": "1.0",
  "source": "auto.ru",
  "parsed_at": "2025-01-24 12:00:00",
  "brands_count": 50,
  "brands": [
    {
      "id": "kia",
      "name": "Kia",
      "models": [
        {
          "id": "rio",
          "name": "Rio",
          "generations": [
            {
              "id": "21715175",
              "name": "4 –ø–æ–∫–æ–ª–µ–Ω–∏–µ (FB)",
              "years": [2017, 2024],
              "configurations": [
                {
                  "engine": {
                    "name": "1.4 –ª / 100 –ª.—Å.",
                    "volume": 1.4,
                    "power_hp": 100
                  },
                  "transmissions": ["MT", "AT"]
                },
                {
                  "engine": {
                    "name": "1.6 –ª / 123 –ª.—Å.",
                    "volume": 1.6,
                    "power_hp": 123
                  },
                  "transmissions": ["MT", "AT"]
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

–í —Ñ–∞–π–ª–µ `autoru_parser.py` –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:

```python
CONFIG = {
    "delay_min": 2.0,      # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (—Å–µ–∫)
    "delay_max": 5.0,      # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
    "headless": True,      # False = –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ–∫–Ω–æ –±—Ä–∞—É–∑–µ—Ä–∞
    "brands_limit": None,  # –ß–∏—Å–ª–æ = –ø–∞—Ä—Å–∏—Ç—å —Ç–æ–ª—å–∫–æ N –º–∞—Ä–æ–∫ (–¥–ª—è —Ç–µ—Å—Ç–∞)
}
```

### –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ (5 –º–∞—Ä–æ–∫)

```python
CONFIG["brands_limit"] = 5
```

## üîÑ –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ—è

–ü–∞—Ä—Å–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ `parser_progress.json`.
–ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –º–∞—Ä–∫–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è.

–î–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å –Ω—É–ª—è ‚Äî —É–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª:
```bash
rm parser_progress.json
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

1. **–ù–µ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç–æ** ‚Äî —Å–∞–π—Ç –º–æ–∂–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å IP
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPN** –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–∫—Ä—ã—Ç—å IP
3. **–ü–∞—Ä—Å—å—Ç–µ –Ω–æ—á—å—é** ‚Äî –º–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
4. **–û–¥–∏–Ω —Ä–∞–∑ —Å–æ–±—Ä–∞–ª ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π** ‚Äî –¥–∞–Ω–Ω—ã–µ —Ä–µ–¥–∫–æ –º–µ–Ω—è—é—Ç—Å—è

## üõ† –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Captcha / –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞

1. –£–≤–µ–ª–∏—á—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏:
   ```python
   CONFIG["delay_min"] = 5.0
   CONFIG["delay_max"] = 10.0
   ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å –≤–∏–¥–∏–º—ã–º –±—Ä–∞—É–∑–µ—Ä–æ–º –∏ —Ä–µ—à–∏—Ç–µ captcha –≤—Ä—É—á–Ω—É—é:
   ```python
   CONFIG["headless"] = False
   ```

### –û—à–∏–±–∫–∞ playwright

```bash
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞
pip uninstall playwright
pip install playwright
playwright install chromium --force
```

### –ù–µ –Ω–∞—Ö–æ–¥–∏—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

Auto.ru –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–µ—Ç –≤—ë—Ä—Å—Ç–∫—É. –û—Ç–∫—Ä–æ–π—Ç–µ issue –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –≤ –∫–æ–¥–µ.

## üìä –ü—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã

| –û–±—ä—ë–º | –í—Ä–µ–º—è |
|-------|-------|
| 5 –º–∞—Ä–æ–∫ (—Ç–µ—Å—Ç) | ~10 –º–∏–Ω—É—Ç |
| 50 –º–∞—Ä–æ–∫ | ~2-3 —á–∞—Å–∞ |
| –í—Å–µ –º–∞—Ä–∫–∏ (~80) | ~4-6 —á–∞—Å–æ–≤ |

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–î–ª—è –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –î–∞–Ω–Ω—ã–µ ‚Äî –ø—É–±–ª–∏—á–Ω—ã–µ —Ñ–∞–∫—Ç—ã –æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π.
